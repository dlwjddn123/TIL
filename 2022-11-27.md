**11월 27일**

```
오늘은 이래저래 일이 많아서 공부를 거의 하지 못했다.
그래서 오늘 세웠던 목표 중 MVC 패턴 정리하기만 하기로 했다.

우아한 테크코스의 프리코스를 진행하며 코드를 짤 때, MVC 패턴을 이용했었는데
스프링을 공부하면서 MVC 패턴을 거의 습관처럼 사용하고 있었기 때문이었다.
하지만 생각보다 MVC패턴에 대해 정확하게 알고 있지 못한 것 같아 이번 기회에 따로 정리하기로 했다.
```
<br>


# MVC 패턴

<br>

## 디자인 패턴이란?

+ 디자인 패턴이란 프로그램이나 개발할 때 반복적으로 발생하는 문제점들을 어떻게 풀어나갈 것인가에 대한 일종의 솔루션 같은 것이다.

+ 간단히 말하면 **올바른** 설계를 **빨리** 만들 수 있도록 도와주는 도구라고 볼 수 있다.

<br>

## MVC란?

+ MVC는 Model, View, Controller의 약자이다.

+ 하나의 어플리케이션을 구성할 때 그 구성요소를 세 가지의 역할로 구분한 패턴이다

+ 아래 이미지를 통해 MVC의 전체적인 구조를 한 눈에 볼 수 있다.

<br><br>

![image](https://user-images.githubusercontent.com/81271328/204140621-7f00557a-2a99-40c6-bf22-1297c23836b4.png)

+ **Model, Controller, View를 하나씩 살펴보자.**

<br>

---

### Model(모델)

+ 모델은 에플리케이션의 정보, 데이터를 나타낸다.

+ 데이터에는 여러 데이터들이 포함된다.(데이터베이스, 초기화값, 변수 등)

+ 모델은 이러한 데이터들의 가공을 책임지는 컴포넌트이다.

<br>

### View(뷰)

+ view는 사용자에게 보여지는 부분을 말한다.

+ 데이터 입력, 출력, 사용자들이 볼 수 있는 화면을 담당한다.

<br>

### Controller(컨트롤러)

+ 데이터와 사용자 인터페이스, 즉 뷰와 모델을 잇는 다리 역할을 한다.

+ 예) 사용자가 생성 버튼을 클릭하면 사용자의 ID가 생성되며 출력된다고 했을 때, 컨트롤러가 모델에게 ID생성을 명령하고 생성된 ID를 받아 뷰에게 출력하라는 명령을 한다.

<br>

**각각의 역할을 간단히 알아보았고, MVC패턴을 이용하기 위해 반드시 지켜야하는 규칙을 알아보자.**

<br>

---

### 모델이 지켜야 하는 규칙

<br>

+ **사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.**
  + 데이터에 대한 가공이나 처리를 모델에서 다루기 때문에 사용자가 편집하길 원하는 모든 데이터를 가지고 있어야 한다.

+ **뷰나 컨트롤러에 대해서 어떤 정보도 알지 말아야 한다**
  + 데이터 변경이 일어났을 때, 모델에서 화면 UI를 직접 조정해 수정할 수 있도록 뷰를 참조하는 내부 속성값을 가지면 안된다.
  + 각각의 역할이나 전체적인 구조를 망가뜨리기 때문에 모델은 뷰나 컨트롤러에 의존해서는 안된다는 것이다.

+ **변경이 일어나면 변경 통지에 대한 처리방법을 구현해야만 한다.**
  + 모델이 데이터를 관리하기 때문에, 모델의 어떤 정보가 변경된다면, 변경을 요구하는 이벤트에 대해 처리할 수 있는 방법을 가지고 있어야 한다.

---

### 뷰가 지켜야 하는 규칙

<br>

+ **모델이 가지고 있는 정보를 따로 저장해서는 안된다.**
  + 화면에 어떤 데이터를 출력하기 위해 모델에게 데이터를 전달받게 되는데, 그 정보를 임의로 뷰 내부에 저장하면 안된다.
  + 뷰는 출력이라는 역할에 충실하기만 하면 된다. 데이터 저장이나 가공은 모델에게 맡기자.

+ **모델이나 컨트롤러와 같이 다른 구성요소들을 몰라야 한다.**
  + 모델이 컨트롤러와 뷰에 대해 어떤 정보를 알아야 하지 말아야 되는 것처럼 뷰도 마찬가지이다.
  + 그 이유는 위에 설명했 듯 역할이나 전체적인 구조가 망가진다. 서로에게 의존성을 가지게 되면 오히려 더 복잡해진다.

+ **변경이 일어나면 변경통지에 대한 처리방법을 구현해야만 한다**
  + 화면에서 사용자가 화면에 표시된 내용을 변경하게 되면 이를 모델에게 전달하여 변경해야 된다.
  + 이 작업을 하기 위해 변경 통지를 구현해야 한다.
 
---

### 컨트롤러가 지켜야 하는 규칙

<br>

+ **모델과 뷰에 대해서 알고 있어야 한다**
  + 컨트롤러의 정의에서 컨트롤러는 다리 역할을 한다고 했다. 
  + 모델과 뷰가 서로의 존재를 모르기 때문에 컨트롤러를 통해서 이어져야 한다.

+ **모델이나 뷰의 변경을 모니터링 해야 한다**
  + 모델이나 뷰의 변경 통지를 받으면 이를 해석하여 각각의 구성 요소에게 통지해야 한다.

---

<br>

## 왜 MVC패턴을 사용해야 할까

```
어차피 컨트롤러에 의해 이어질건데 그냥 뷰와 모델이 서로 알면 되는 것 아닌가? 라고 생각할 수 있다.

그렇다면 MVC패턴을 사용하려는 이유를 다시한번 생각해보자. 

프로그램을 편리하고 빨리 작성할 수 있게, 즉 설계가 올바르고", "빠르게" 이루어질수 있도록 하기 위함이였다.

뷰와 모델이 서로를 알고 있다면 굳이 나누어서 코드를 작성하지 않아도 된다. 그냥 한 클래스에 몰아서 짜면 된다.

하지만 이는 유지보수가 어렵고, 가독성도 떨어진다.

Model, View, Controller 처럼 역할을 나누게 되면 코드를 변경하거나 추가하게 될 때에도
전부 수정할 필요 없이 해당 역할을 수행하는 부분만 수정하면 된다. 

또한 코드를 작성할 때에도 역할에 확실히 나뉘어져 있다면, 맡은 역할에만 집중할 수 있기 때문에 코드를 작성함에 있어 더 효율적이기도 하다.

때문에 MVC패턴을 사용하는 것이 더 효과적이라고 할 수있다.
```

<br>

**습관처럼 코드를 짜지 말자라는 생각이 들었다. MVC패턴은 스프링을 공부하기 시작할 때, 거의 그냥 구조를 외우다시피 사용만 했었다.** <br>
**스프링을 배우는데에만 급급해서 MVC패턴이 뭔진 모르겠지만 일단 사용하고 본 것이다.** <br>
**그러다보니 MVC패턴에 대해 별로 아는 것이 없었는데, 오늘로서 MVC패턴과 조금 친해질 수 있었던 것 같다.** <br>
**MVC패턴과는 더 친해지기로 하고, 다른 디자인패턴도 공부해보면 좋을 것 같다. 시간이 되면 디자인 패턴 책을 읽어봐야겠다.**

